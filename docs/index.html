<!DOCTYPE html>
<html lang="en">
<head>
    
    <meta charset="utf-8">
    <title>Home - Documentation</title>
    
    
    <script src="scripts/prettify/prettify.js"></script>
    <script src="scripts/prettify/lang-css.js"></script>
    <!--[if lt IE 9]>
      <script src="//html5shiv.googlecode.com/svn/trunk/html5.js"></script>
    <![endif]-->
    <link type="text/css" rel="stylesheet" href="styles/prettify.css">
    <link type="text/css" rel="stylesheet" href="styles/jsdoc.css">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
</head>
<body>

<input type="checkbox" id="nav-trigger" class="nav-trigger" />
<label for="nav-trigger" class="navicon-button x">
  <div class="navicon"></div>
</label>

<label for="nav-trigger" class="overlay"></label>

<nav >
    
    <input type="text" id="nav-search" placeholder="Search" />
    
    <h2><a href="index.html">Home</a></h2><h3>Namespaces</h3><ul><li><a href="Z.html">Z</a><ul class='methods'><li data-type='method'><a href="Z.html#.concat">concat</a></li><li data-type='method'><a href="Z.html#.corr">corr</a></li><li data-type='method'><a href="Z.html#.dropCol">dropCol</a></li><li data-type='method'><a href="Z.html#.filter">filter</a></li><li data-type='method'><a href="Z.html#.getCol">getCol</a></li><li data-type='method'><a href="Z.html#.groupBy">groupBy</a></li><li data-type='method'><a href="Z.html#.kurt">kurt</a></li><li data-type='method'><a href="Z.html#.mean">mean</a></li><li data-type='method'><a href="Z.html#.median">median</a></li><li data-type='method'><a href="Z.html#.parseDates">parseDates</a></li><li data-type='method'><a href="Z.html#.parseNums">parseNums</a></li><li data-type='method'><a href="Z.html#.pctChange">pctChange</a></li><li data-type='method'><a href="Z.html#.pickCols">pickCols</a></li><li data-type='method'><a href="Z.html#.pipe">pipe</a></li><li data-type='method'><a href="Z.html#.print">print</a></li><li data-type='method'><a href="Z.html#.readCSV">readCSV</a></li><li data-type='method'><a href="Z.html#.skew">skew</a></li><li data-type='method'><a href="Z.html#.sort">sort</a></li><li data-type='method'><a href="Z.html#.sortByCol">sortByCol</a></li><li data-type='method'><a href="Z.html#.std">std</a></li><li data-type='method'><a href="Z.html#.toCSV">toCSV</a></li></ul></li></ul>
</nav>

<div id="main">
    

    



    









    


    <section class="readme">
        <article><h1>zebras - data analysis library for javascript</h1><div align="center"><img src ="code_example.png" width = "60%" /></div>

<p>Zebras is a data manipulation and analysis library written in JavaScript offering the convenience of pandas or R. </p>
<p>Zebras is especially useful for JS data analysis and visualization projects in notebooks on <a href="https://beta.observablehq.com/">ObservableHQ</a> or using the <a href="https://github.com/n-riesco/ijavascript">JS Jupyter kernel</a>. </p>
<p>Unlike pandas, zebras is purely functional. All zebras functions accept data as an argument and return a new data structure transformed, and 'dataframes' are simply arrays of JS objects without any special methods. </p>
<p>Zebras is built on top of <a href="https://github.com/Ramda/ramda">Ramda</a>. Think of zebras as a collection of Ramda functions, and compositions of them, curated and repackaged for common data processing and data analysis tasks. </p>
<p>As in Ramda, all zebras functions are curried, making them easier to chain together. This means that, for example, <code>zebras.sortByCol(col, df)</code> is equivalent to <code>zebras.sortByCol(col)(df)</code>. </p>
<p><strong>An interactive introduction to the zebras library - using S&amp;P 500 data - is available <a href="https://beta.observablehq.com/@nickslevine/introduction-to-zebras-a-data-analysis-library-for-javascr">as an Observable notebook</a>.</strong></p>
<p><strong>See the project roadmap on the zebras wiki <a href="https://github.com/nickslevine/zebras/wiki/Zebras---Project-Roadmap">here</a>.</strong></p>
<p><strong>A guide to using zebras in a JS Jupyter notebook can be found on the zebras wiki <a href="https://github.com/nickslevine/zebras/wiki/Zebras-in-a-Jupyter-Notebook">here</a>.</strong></p>
<h2>To Install</h2><h3>Locally with Node / Jupyter</h3><pre class="prettyprint source lang-sh"><code>npm install zebras --save</code></pre><pre class="prettyprint source lang-javascript"><code>const z = require('zebras')</code></pre><h3>Online in an Observable notebook</h3><pre class="prettyprint source lang-javascript"><code>z = require('https://bundle.run/zebras')</code></pre><h2>Example Usage</h2><pre class="prettyprint source lang-javascript"><code>const z = require('zebras')
const data = z.readCSV('data.csv')
const parsedData = z.parseNums(['speed','acc'], data)
const speed = z.getCol('speed', parsedData)
const avgSpeed = z.mean(speed)</code></pre><p>Piping example:</p>
<pre class="prettyprint source lang-javascript"><code>const z = require('zebras')
const avgSpeed = z.pipe(
  [           // array of functions for input to travel through
    z.readCSV,
    z.parseNums(['speed','acc']),
    z.getCol('speed'),
    z.mean
  ]
)('data.csv')</code></pre><h2>Documentation</h2><p>In the documentation, <code>df</code> signifies a zebras dataframe - an array of Javascript objects such as: <code>[{label: 'A', value: 2}, {label: 'B', value: 4}]</code>. An <code>arr</code> is a simple JavaScript array of values.</p>
<h3>IO</h3><h4>Read a CSV file</h4><pre class="prettyprint source lang-javascript"><code>z.readCSV(filepath) </code></pre><p>Or if you're working in Observable:</p>
<pre class="prettyprint source lang-javascript"><code>d3 = require(&quot;d3&quot;)
data = d3.csv(csv-url)</code></pre><p>:point_right: Returns a zebras dataframe - a simple array of JS objects. </p>
<h4>Write a dataframe to a CSV file</h4><pre class="prettyprint source lang-javascript"><code>z.toCSV(filepath, df)</code></pre><h4>Print dataframe</h4><pre class="prettyprint source lang-javascript"><code>z.print(df)</code></pre><p>:point_right: Returns the entire dataframe as an ASCII table. If working in a local Node environment, wrap this and other printing functions in <code>console.log()</code> to display. ASCII tables look like this:</p>
<pre class="prettyprint source"><code>┌────────────┬───────┬───────┬───────┬───────┬───────────┬─────────┐
│ Date       │ Open  │ High  │ Low   │ Close │ Adj Close │ Volume  │
├────────────┼───────┼───────┼───────┼───────┼───────────┼─────────┤
│ 1950-01-03 │ 16.66 │ 16.66 │ 16.66 │ 16.66 │ 16.66     │ 1260000 │
├────────────┼───────┼───────┼───────┼───────┼───────────┼─────────┤
│ 1950-01-04 │ 16.85 │ 16.85 │ 16.85 │ 16.85 │ 16.85     │ 1890000 │
├────────────┼───────┼───────┼───────┼───────┼───────────┼─────────┤
│ 1950-01-05 │ 16.93 │ 16.93 │ 16.93 │ 16.93 │ 16.93     │ 2550000 │
├────────────┼───────┼───────┼───────┼───────┼───────────┼─────────┤
│ 1950-01-06 │ 16.98 │ 16.98 │ 16.98 │ 16.98 │ 16.98     │ 2010000 │
├────────────┼───────┼───────┼───────┼───────┼───────────┼─────────┤
│ 1950-01-09 │ 17.08 │ 17.08 │ 17.08 │ 17.08 │ 17.08     │ 2520000 │
└────────────┴───────┴───────┴───────┴───────┴───────────┴─────────┘</code></pre><h4>Print first n rows of dataframe</h4><pre class="prettyprint source lang-javascript"><code>z.head(n, df)</code></pre><h4>Print last n rows of dataframe</h4><pre class="prettyprint source lang-javascript"><code>z.tail(n, df)</code></pre><h3>Manipulating dataframes</h3><h4>Filter rows</h4><pre class="prettyprint source lang-javascript"><code>z.filter(func, df)</code></pre><p>:point_right: <code>z.filter()</code> accepts a test function that determines which rows of the supplied dataframe are returned. For example: </p>
<pre class="prettyprint source lang-javascript"><code>const df = [{'label': 'A', 'value': 2}, {'label': 'B', 'value': 10}, {'label': 'C', 'value': 30}]
const dfFiltered = z.filter((r) => r >= 10, df)
// dfFiltered: [{'label': 'B', 'value': 10}, {'label': 'C', 'value': 30}]</code></pre><h4>Sort dataframe rows by a column</h4><pre class="prettyprint source lang-javascript"><code>z.sortByCol(columnName, direction, df)</code></pre><p>:point_right: Set the <code>direction</code> argument to <code>'asc'</code> for ascending and <code>'desc'</code> for descending</p>
<h4>Sort dataframe rows using custom sorting function</h4><pre class="prettyprint source lang-javascript"><code>z.sort(func, df)</code></pre><p>:point_right: <code>z.sort()</code> accepts a sorting function that determines the order of rows in the dataframe returned. For example:</p>
<pre class="prettyprint source lang-javascript"><code>const df = [{'label': 'A', 'value': 7}, {'label': 'B', 'value': 2}, {'label': 'C', 'value': 75}]
const dfSorted = z.sort((a,b) => b.value - a.value, df)
// dfSorted: [{ label: 'C', value: 75 },{ label: 'A', value: 7 },{ label: 'B', value: 2 }] </code></pre><p>For more on sorting functions, see <a href="https://developer.mozilla.org/en-US/docs/Web/JavaScript/Reference/Global_Objects/Array/sort">here</a>. </p>
<h4>Convert columns to numerical type</h4><pre class="prettyprint source lang-javascript"><code>z.parseNums(columnNamesArray, df)</code></pre><p>:point_right: <code>columnNamesArray</code> is an array of the names of the columns to be converted to floats. </p>
<h4>Convert columns to datestamp</h4><pre class="prettyprint source lang-javascript"><code>z.parseDates(columnNamesArray, df)</code></pre><p>:point_right: <code>columnNamesArray</code> is an array of the names of the columns to be converted to datestamps. </p>
<h4>Select a subset of columns</h4><pre class="prettyprint source lang-javascript"><code>z.pickCols(columnNamesArray, df)</code></pre><p>:point_right: Use this function to select a subset of columns - give it an array with the names of the columns you want to retain. </p>
<h4>Delete a column</h4><pre class="prettyprint source lang-javascript"><code>z.dropCol(columnName, df)</code></pre><p>:point_right: Returns a new dataframe lacking the referenced column.</p>
<h4>Concatenate two dataframes</h4><pre class="prettyprint source lang-javascript"><code>z.concat(df1, df2)</code></pre><h4>Get rows by index</h4><pre class="prettyprint source lang-javascript"><code>z.slice(start, end, df)</code></pre><h4>Add a new column to a dataframe from an array</h4><pre class="prettyprint source lang-javascript"><code>z.addCol(columnName, arr, df)</code></pre><p>:point_right: Use this function to add an array as a new column in a dataframe. Make sure the array has the same length as the number of rows in the dataframe.  </p>
<h4>Create a new array based on columns from existing array</h4><pre class="prettyprint source lang-javascript"><code>z.deriveCol(func, df)</code></pre><p>:point_right: Use to create new columns derived from existing columns in a dataframe. For example:</p>
<pre class="prettyprint source lang-javascript"><code>const df = [{'date': '1990-05-06', 'tempCelsius': 0},{'date': '1990-05-07', 'tempCelsius': 4},{'date': '1990-05-08', 'tempCelsius': 6}]
const fahrenheit = z.deriveCol((r) => r.tempCelsius * 1.8 + 32, df) // => [ 32, 39.2, 42.8 ]
const dfWithFahrenheit = z.addCol('tempFahrenheit', fahrenheit, df) // => new df includes the 'tempFahrenheit' column</code></pre><h4>Join two dataframes on a column</h4><pre class="prettyprint source lang-javascript"><code>z.merge(dfLeft, dfRight, leftOn, rightOn, leftSuffix, rightSuffix)</code></pre><p>:point_right: Performs a left join on two dataframes. The 'On' arguments set which column in each df to join on. The 'Suffix' arguments determine what the suffix should be when the two dataframes have overlapping column names besides the one being joined on. </p>
<h3>Analyzing series</h3><h4>Extract a series to an array from a dataframe</h4><pre class="prettyprint source lang-javascript"><code>z.getCol(columnName, df)</code></pre><p>For example:</p>
<pre class="prettyprint source lang-javascript"><code>const df = [{'date': '1990-05-06', 'tempCelsius': 0},{'date': '1990-05-07', 'tempCelsius': 4},{'date': '1990-05-08', 'tempCelsius': 6}]
const dates = z.getCol('date', df) // => ['1990-05-06', '1990-05-07', '1990-05-08']</code></pre><h4>Min of series:</h4><pre class="prettyprint source lang-javascript"><code>z.min(arr)</code></pre><h4>Max of series</h4><pre class="prettyprint source lang-javascript"><code>z.max(arr)</code></pre><h4>Sum of series:</h4><pre class="prettyprint source lang-javascript"><code>z.sum(arr)</code></pre><h4>Product of series:</h4><pre class="prettyprint source lang-javascript"><code>z.prod(arr)</code></pre><h4>Range of series</h4><pre class="prettyprint source lang-javascript"><code>z.getRange(arr)</code></pre><p>:point_right: Returns an array of the min and max of the series: <code>[min, max]</code></p>
<h4>Mean of series</h4><pre class="prettyprint source lang-javascript"><code>z.mean(arr)</code></pre><h4>Median of series</h4><pre class="prettyprint source lang-javascript"><code>z.median(arr)</code></pre><h4>Standard deviation of series</h4><pre class="prettyprint source lang-javascript"><code>z.std(arr)</code></pre><h4>Skew of a series</h4><pre class="prettyprint source lang-javascript"><code>z.skew(arr)</code></pre><h4>Kurtosis of a series</h4><pre class="prettyprint source lang-javascript"><code>z.kurt(arr)</code></pre><h4>Correlation between two series</h4><pre class="prettyprint source lang-javascript"><code>z.corr(arr1,arr2)</code></pre><h4>Percent changes</h4><pre class="prettyprint source lang-javascript"><code>z.pctChange(arr)</code></pre><p>:point_right: Returns a new series with the percent changes between the values in order of the input series. For example:</p>
<pre class="prettyprint source lang-javascript"><code>const arr = [10, 15, 20, 25, 50, 55]
const prcChanges = z.pctChange(arr) // => [NaN, .5, .333, .25, 1, .1]</code></pre><h4>Differences</h4><pre class="prettyprint source lang-javascript"><code>z.diff(arr)</code></pre><p>:point_right: Returns a new series with the differences between the values in the order of the input series. </p>
<h4>Calculate rolling statistics</h4><pre class="prettyprint source lang-javascript"><code>z.rolling(func, n, arr)</code></pre><p>:point_right: Calculate statistics over a moving window. Works with z.min, z.max, z.mean, z.std, z.sum, z.prod, or any other function that takes an array as a single argument.</p>
<h4>Calculate cumulative statistics</h4><pre class="prettyprint source lang-javascript"><code>z.cumulative(func, arr)</code></pre><p>:point_right: Calculate statistics over a cumulative window from the start of the array. Works wtih z.min, z.max, z.mean, z.std, z.sum, z.prod, etc., or any other function that takes an array as a single argument.</p>
<h4>Get unique values in a series</h4><pre class="prettyprint source lang-javascript"><code>z.unique(arr)</code></pre><h4>Count number of unique values in a series</h4><pre class="prettyprint source lang-javascript"><code>z.countUnique(arr)</code></pre><h4>Count number of occurences of each value in a series</h4><pre class="prettyprint source lang-javascript"><code>z.valueCounts(arr)</code></pre><h4>Calculate summary statistics for a numerical series</h4><pre class="prettyprint source lang-javascript"><code>z.describe(arr)</code></pre><p>:point_right: Returns a single-row df with count, unique count, min, max, median, mean and standard deviation of a numerical series.</p>
<pre class="prettyprint source"><code>┌───────┬─────────────┬──────────┬─────────┬─────────┬─────────┬─────────┐
│ count │ countUnique │ min      │ max     │ median  │ mean    │ std     │
├───────┼─────────────┼──────────┼─────────┼─────────┼─────────┼─────────┤
│ 17356 │ 17196       │ -0.20467 │ 0.11580 │ 0.00046 │ 0.00033 │ 0.00962 │
└───────┴─────────────┴──────────┴─────────┴─────────┴─────────┴─────────┘</code></pre><h4>Create groupBy object</h4><pre class="prettyprint source lang-javascript"><code>z.groupBy(func, df)</code></pre><p>:point_right: Takes a function and returns a groupBy object grouped according to the function. The form of a groupBy object is a JS object whose keys are the groups and whose values are dataframes containing the group's rows. For example:</p>
<pre class="prettyprint source lang-javascript"><code>const df = [{'Day': 'Monday', 'value': 10}, {'Day': 'Tuesday', 'value': 5}, {'Day': 'Monday', 'value': 7}]
const dfGrouped = z.groupBy(x => x.Day, df)
// dfGrouped = {
//  'Monday': [{'Day': 'Monday', 'value': 10}, {'Day': 'Monday', 'value': 7}], 
//  'Tuesday': [{'Day': 'Tuesday', 'value': 5}]
// }</code></pre><h5>groupBy object functions</h5><pre class="prettyprint source lang-javascript"><code>z.gbMin(col, groupByObject)
z.gbMax(col, groupByObject)
z.gbCount(col, groupByObject)
z.gbSum(col, groupByObject)
z.gbMean(col, groupByObject)
z.gbStd(col, groupByObject)
z.gbDescribe(col, groupByObject)</code></pre><p>:point_right: Use these functions on groupBy objects - the output of z.groupBy() - to ananalyze groups. The 'col' argument determines the column within the groups to be analyzed. GroupBy functions return a df with the calculated statistics. For example: </p>
<pre class="prettyprint source lang-javascript"><code>z.gbDescribe('Returns', stocksGroupedByDay) // => daily S&P 500 stock returns grouped by day of the week</code></pre><p>The output:</p>
<pre class="prettyprint source"><code>┌───────────┬──────────────────────┬─────────────────────┬───────┬────────────────────┬────────────────────────┬──────────────────────┐
│ group     │ min                  │ max                 │ count │ sum                │ mean                   │ std                  │
├───────────┼──────────────────────┼─────────────────────┼───────┼────────────────────┼────────────────────────┼──────────────────────┤
│ Tuesday   │ -0.05739484160042896 │ 0.10789005893857007 │ 3536  │ 1.4631920539924885 │ 0.0004137986578033056  │ 0.009621681367601694 │
├───────────┼──────────────────────┼─────────────────────┼───────┼────────────────────┼────────────────────────┼──────────────────────┤
│ Wednesday │ -0.09034977815503076 │ 0.09099355156869016 │ 3536  │ 2.7012204306809346 │ 0.0007639198050568254  │ 0.009228777204500336 │
├───────────┼──────────────────────┼─────────────────────┼───────┼────────────────────┼────────────────────────┼──────────────────────┤
│ Thursday  │ -0.07616709530292798 │ 0.06921270776786637 │ 3489  │ 1.3406664392802377 │ 0.00038425521332193684 │ 0.009238397490985052 │
├───────────┼──────────────────────┼─────────────────────┼───────┼────────────────────┼────────────────────────┼──────────────────────┤
│ Friday    │ -0.0676830448776905  │ 0.06324760362753801 │ 3467  │ 2.2649118001249873 │ 0.0006532771272353583  │ 0.008747752776127474 │
├───────────┼──────────────────────┼─────────────────────┼───────┼────────────────────┼────────────────────────┼──────────────────────┤
│ Monday    │ -0.20466930860972155 │ 0.11580036960722695 │ 3328  │ -1.98570062292691  │ -0.0005966648506390956 │ 0.011098986740715711 │
└───────────┴──────────────────────┴─────────────────────┴───────┴────────────────────┴────────────────────────┴──────────────────────┘ </code></pre><h3>Composition</h3><h4>Pipe functions together</h4><pre class="prettyprint source lang-javascript"><code>z.pipe([functions], df)</code></pre><p>For example:</p>
<pre class="prettyprint source lang-javascript"><code>const data = [{'Date': '1997-01-01', 'Value': '12'},{'Date': '1997-01-02', 'Value': '14'},{'Date': '1997-01-03', 'Value': '7'},{'Date': '1997-01-04', 'Value': '112'}]
const dataPiped = z.pipe(
  [
    z.parseNums(['Value']), // converts 'Value' column to floats
    z.getCol('Value'), // extracts 'Value' column to array
    z.mean() // calculates mean of 'Value' array => 36.25
  ]
)(data)</code></pre></article>
    </section>






    
    
</div>

<br class="clear">

<footer>
    Documentation generated by <a href="https://github.com/jsdoc3/jsdoc">JSDoc 3.5.5</a> on Fri Jan 11 2019 23:37:42 GMT+0100 (CET) using the <a href="https://github.com/clenemt/docdash">docdash</a> theme.
</footer>

<script>prettyPrint();</script>
<script src="scripts/linenumber.js"></script>

<script src="scripts/jquery-3.1.1.min.js"></script>

<script src="scripts/search.js"></script>




</body>
</html>